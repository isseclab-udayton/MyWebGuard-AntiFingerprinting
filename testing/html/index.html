<head>
	<meta charset="utf-8" />
	<!--
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
	-->
	<link rel="stylesheet" href="./bootstrap.min.css">
	<script src="../js/ping.js"></script>
	<script src="https://cdn.plot.ly/plotly-2.18.2.min.js"></script>
	

	<meta name="viewport" content="width=device-width, initial-scale=1">
</head>

<body>
	<!-- Jumbotron -->
	<div class="p-5 text-center text-white bg-dark">
		<h1 class="mb-3 text-white">Thesis Testing Site</h1>
		<h4 class="mb-3 text-white">Mitigation of JavaScript-Based Fingerprinting Attacks Reliant on Client Data Generation</h4>
		<h6 class="mb-3 text-white">A Link-based Fingerprinting Prototype</h6>
		<h6 class="mb-3 text-white">Reproduced by: Nathan Joslin</h6>
		<h6><a href="https://ieeexplore.ieee.org/stamp/stamp.jsp?tp=&arnumber=9500556&tag=1" class="nav-link text-white">
			PingLoc Paper
		  </a></h6>
		<span class="fs-4" id="name" name="name">User: </span>
		<span class="fs-4" id="finishedCollecting" name="finishedCollecting"></span>
	</div>
	<!-- Jumbotron -->
	<!--
	<iframe id="navigator" src="./navigator.html" width="100%" height="50%" frameborder="no"></iframe>
	<iframe id="picassauth" src="./picassauth.html" width="100%" height="50%" frameborder="no"></iframe>
	-->
	<!-- This form gets submitted every 800ms (dataPost()) -->
	<!-- This form is used for storing the time differential values. -->
	<form action="" method="post" target="targetIfr" id="form">
		<!-- Nathan's attempt 
			// These are geographically diverse within the U.S.
			1) 	Stanford University:				IP: 171.67.215.200	Location: California		URL: https://www.stanford.edu/			Name: stanford
			2) 	Oregon State University:			IP: 52.27.33.250	Location: Oregon			URL: https://oregonstate.edu/ 			Name: oregonState
			3) 	Auburn University:					IP:	131.204.138.170 Location: Alabama			URL: https://www.auburn.edu/ 			Name: auburn
			4) 	University of Alaska Fairbanks: 	IP: 137.229.114.150	Location: Alaska			URL: https://www.uaf.edu/ 				Name: alaska
			5) 	Texas A&M: 							IP: 165.91.22.70 	Location: Texas				URL: https://www.tamu.edu/				Name: texas
			6) 	Penn State:							IP: 128.118.142.114	Location: Pennsylvania		URL: https://www.psu.edu/ 				Name: pennState
			7) 	University of North Dakota: 		IP: 134.129.183.70 	Location: North Dakota		URL: https://und.edu/ 					Name: northDakota
			8) 	Colorado College					IP: 198.59.3.123	Location: Colorado			URL: https://www.coloradocollege.edu/ 	Name: colorado
			9) 	University of Maine: 				IP: 130.111.46.127	Location: Maine				URL: https://umaine.edu/		 		Name: maine
			10) University of Wisconsin: 			IP: 144.92.9.70 	Location: Wisconsin			URL: https://www.wisc.edu/ 				Name: wisconsin
			11) Florida State						IP: 146.201.111.62	Location: Florida			URL: https://www.fsu.edu/				Name: florida

			Failed Attempts (IP leads to different state):
				- University of Colorado Boulder: 	IP: 151.101.2.133	Location: Colorado			URL: https://www.colorado.edu/ 
				- University of Dayton: 			IP: 131.238.73.184 	Location: Ohio				URL: https://udayton.edu/ 
				- University of North Carolina:		IP: 23.185.0.4		Location: North Carolina	URL: https://www.unc.edu/
				// dartmouth will likely work, there was a typo causing the panics...
				- Dartmouth College: 				IP: 129.170.136.114 Location: New Hampshire		URL: https://home.dartmouth.edu/ 		Name: dartmouth
		-->
		<div class="container-fluid">
			<div class="row bg-dark">
				<!-- Sidebar-->
				<div class="col-3 d-flex bg-dark position-fixed" id="">
					<div class="d-flex flex-column text-white bg-dark">
						<iframe id="timer" src="./timer.html" width="100%" height="25%" frameborder="no"></iframe>
						<ul class="nav nav-pills flex-column">
						  <li>
						  </li>
						  <li>
							<span class="fs-4" id="Stanford" name="stanford">Stanford: </span>
						  </li>
						  <li>
							<span class="fs-4" id="Oregon State" name="oregonState">Oregon State: </span>
						  </li>
						  <li>
							<span class="fs-4" id="Auburn" name="auburn">Auburn: </span>
						  </li>
						  <li>
							<span class="fs-4" id="Alaska" name="alaska">Alaska: </span>
						  </li>
						  <li>
							<span class="fs-4" id="Texas" name="texas">Texas: </span>
						  </li>
						  <li>
							<span class="fs-4" id="Penn State" name="pennState">Penn State: </span>
						  </li>
						  <li>
							<span class="fs-4" id="North Dakota" name="northDakota">North Dakota: </span>
						  </li>
						  <li>
							<span class="fs-4" id="Colorado" name="colorado">Colorado: </span>
						  </li>
						  <li>
							<span class="fs-4" id="Maine" name="maine">Maine: </span>
						  </li>
						  <li>
							<span class="fs-4" id="Wisconsin" name="wisconsin">Wisconsin: </span>
						  </li>
						  <li>
							<span class="fs-4" id="Florida" name="florida">Florida: </span>
						  </li>
						</ul>
						<hr>
						<!--
						<div class="dropdown">
						  <a href="#" class="d-flex align-items-center text-white text-decoration-none dropdown-toggle" id="dropdownUser1" data-bs-toggle="dropdown" aria-expanded="false">
							<img src="https://github.com/mdo.png" alt="" width="32" height="32" class="rounded-circle me-2">
							<strong>mdo</strong>
						  </a>
						  <ul class="dropdown-menu dropdown-menu-dark text-small shadow" aria-labelledby="dropdownUser1">
							<li><a class="dropdown-item" href="#">New project...</a></li>
							<li><a class="dropdown-item" href="#">Settings</a></li>
							<li><a class="dropdown-item" href="#">Profile</a></li>
							<li><hr class="dropdown-divider"></li>
							<li><a class="dropdown-item" href="#">Sign out</a></li>
						  </ul>
						</div>
						-->
					  </div>
				</div>
				<!-- End Sidebar-->
				<div class="offset-3 col-sm-9 bg-dark">
					<!-- First Row of Graphs-->
					<div class="row">
						<div class="col-sm-4">
							<div id="stanfordGraph">
							</div>
						</div>
						<div class="col-sm-4">
							<div id="oregonGraph">
							</div>
						</div>
						<div class="col-sm-4">
							<div id="auburnGraph">
							</div>
						</div>
					</div>
					<!-- End First Row of Graphs-->

					<!-- Second Row of Graphs-->
					<div class="row">
						<div class="col-sm-4">
							<div id="alaskaGraph">
							</div>
						</div>
						<div class="col-sm-4">
							<div id="texasGraph">
							</div>
						</div>
						<div class="col-sm-4">
							<div id="pennStateGraph">
							</div>
						</div>
					</div>
					<!-- End SecondRow of Graphs-->

					<!-- Third Row of Graphs-->
					<div class="row">
						<div class="col-sm-4">
							<div id="northDakotaGraph">
							</div>
						</div>
						<div class="col-sm-4">
							<div id="coloradoGraph">
							</div>
						</div>
						<div class="col-sm-4">
							<div id="maineGraph">
							</div>
						</div>
					</div>
					<!-- End Third Row of Graphs-->

					<!-- Fourth Row of Graphs-->
					<div class="row">
						<div class="col-sm-4">
							<div id="wisconsinGraph">
							</div>
						</div>
						<div class="col-sm-4">
							<div id="floridaGraph">
							</div>
						</div>
					</div>
					<!-- End Fourth Row of Graphs-->
				</div>
			</div>
		</div>
		<script>
			// get client's info so we can see if it works later
			// TODO: Let's get a home address as well to ensure a geographically diverse dataset
			// TODO: combine timers for updating graphs and data to server, sync them up!
			let username = window.prompt("Please Enter Your Name:", "name here")
			console.log("name: " + username)
			document.getElementById("name").innerHTML += username
	
			// getOS collects user-agent information and adds it to the post form
			// NOTE: we can use this to ensure a diverse dataset
			function getOS(deviceType,OSname,browserName,browserVer,adaptType) {
				document.getElementById("deviceType").value = deviceType;
				document.getElementById("OSname").value = OSname;
				document.getElementById("browserName").value = browserName;
				document.getElementById("browserVer").value = browserVer;
				document.getElementById("adaptType").value = adaptType;
			}

			// dataPost sends a round of data collection to the server
			function dataPost() {
				setTimeout(function() {
					console.log("submitting data...")
					document.getElementById('form').submit();
					dataPost();
				},800)
			}
			dataPost()
		</script>

		<!-- Failed Attempts
		// ip not on campus
		<p style="display:block" >ping University of Colorado Boulder:<input type="text" id="boulder" name="boulder" value="" style="display:block" /></p>
		<p style="display:block" >ping University of Dayton:<input type="text" id="udayton" name="udayton" value="" style="display:block" /></p>
		<p style="display:block" >ping University of North Carolina:<input type="text" id="northCarolina" name="northCarolina" value="" style="display:block" /></p>

		// NOTE: causes runtime panics, but found typo after so probably can use if adding more servers later
		<p style="display:block" >ping Dartmouth College:<input type="text" id="dartmouth" name="dartmouth" value="" style="display:block" /></p>
		-->

		<!-- Testing 
		<p style="display:block" >ping PhuPhung:<input type="text" id="phuphung" name="phuphung" value="" style="display:block" /></p>
		<p style="display:block" >ping cps470:<input type="text" id="cps570" name="cps570" value="" style="display:block" /></p>
		<p style="display:block" >ping facebook:<input type="text" id="facebook" name="facebook" value="" style="display:block" /></p>
		<p style="display:block" >ping twitter:<input type="text" id="twitter" name="twitter" value="" style="display:block" /></p>
		-->

		<!-- OG PingLoc
		<p style="display:block" >ping Baidu:<input type="text" id="baidu" name="baidu" value="" style="display:block" /></p>
		<p style="display:block">ping Sina:<input type="text" id="sina" name="sina" value="" style="display:block" /></p>
		<p style="display:block">ping IQIYI:<input type="text" id="iqiyi" name="iqiyi" value="" style="display:block" /></p>
		<p style="display:block">ping Douban:<input type="text" id="douban" name="douban" value="" style="display:block" /></p>
		<p style="display:block">ping So:<input type="text" id="so" name="so" value="" style="display:block" /></p>
		<p style="display:block">ping Youku:<input type="text" id="youku" name="youku" value="" style="display:block" /></p>
		<p style="display:block">ping Qidian:<input type="text" id="qidian" name="qidian" value="" style="display:block" /></p>
		<p style="display:block">ping 2345:<input type="text" id="2345" name="2345" value="" style="display:block" /></p>
		<p style="display:block">ping Dianping:<input type="text" id="dianping" name="dianping" value="" style="display:block" /></p>
		<p style="display:block">ping seu:<input type="text" id="seu" name="seu" value="" style="display:block" /></p>
		<p style="display:block">ping nju:<input type="text" id="nju" name="nju" value="" style="display:block" /></p>
		<p style="display:none">deviceType:<input type="text" id="deviceType" name="deviceType" value="" style="display:none" /></p>
		<p style="display:none">OSname:<input type="text" id="OSname" name="OSname" value="" style="display:none" /></p>
		<p style="display:none">browserName:<input type="text" id="browserName" name="browserName" value="" style="display:none" /></p>
		<p style="display:none">browserVer:<input type="text" id="browserVer" name="browserVer" value="" style="display:none" /></p>
		<p style="display:none">adaptType:<input type="text" id="adaptType" name="adaptType" value="" style="display:none" /></p>
		-->
	</form>   

	<!-- 
		The image loading pages. 
		- Each page attempts to load an image from a specific server
		- Images are loaded every 800ms
		- Images always error out
	-->
	
	<div id="pic" style="display:none">
		<!-- Nathan's attempt -->
		<iframe id="istanford" src="./stanford.html" width="100%" height="100%" frameborder="no"></iframe>
		<iframe id="ioregonState" src="./oregonState.html" width="100%" height="100%" frameborder="no"></iframe>
		<iframe id="iauburn" src="./auburn.html" width="100%" height="100%" frameborder="no"></iframe>
		<iframe id="ialaska" src="./alaska.html" width="100%" height="100%" frameborder="no"></iframe>
		<iframe id="itexas" src="./texas.html" width="100%" height="100%" frameborder="no"></iframe>
		<iframe id="ipennState" src="./pennState.html" width="100%" height="100%" frameborder="no"></iframe>
		<iframe id="inorthDakota" src="./northDakota.html" width="100%" height="100%" frameborder="no"></iframe>
		<iframe id="icolorado" src="./colorado.html" width="100%" height="100%" frameborder="no"></iframe>
		<iframe id="imaine" src="./maine.html" width="100%" height="100%" frameborder="no"></iframe>
		<iframe id="iwisconsin" src="./wisconsin.html" width="100%" height="100%" frameborder="no"></iframe>
		<iframe id="iflorida" src="./florida.html" width="100%" height="100%" frameborder="no"></iframe>

		<!-- Failed Attempts
		<iframe id="iboulder" src="./boulder.html" width="100%" height="100%" frameborder="no"></iframe>
		<iframe id="iudayton" src="./udayton.html" width="100%" height="100%" frameborder="no"></iframe>
		<iframe id="inorthCarolina" src="./northCarolina.html" width="100%" height="100%" frameborder="no"></iframe>
		frame id="idartmouth" src="./dartmouth.html" width="100%" height="100%" frameborder="no"></iframe>
		-->
		<!-- Testing 
		<iframe id="iphuphung" src="./phuphung.html" width="100%" height="100%" frameborder="no"></iframe>
		<iframe id="icps570" src="./cps570.html" width="100%" height="100%" frameborder="no"></iframe>
		<iframe id="ifacebook" src="./facebook.html" width="100%" height="100%" frameborder="no"></iframe>
		<iframe id="itwitter" src="./twitter.html" width="100%" height="100%" frameborder="no"></iframe>
		-->
		<!--
		<iframe id="ibaidu" src="./baidu.html" width="100%" height="100%" frameborder="no"></iframe>
		<iframe id="iiqiyi" src="./iqiyi.html" width="100%" height="100%" frameborder="no"></iframe>
		<iframe id="idouban" src="./douban.html" width="100%" height="100%" frameborder="no"></iframe>
		<iframe id="iso" src="./so.html" width="100%" height="100%" frameborder="no"></iframe>
		<iframe id="iyouku" src="./youku.html" width="100%" height="100%" frameborder="no"></iframe>
		<iframe id="iqidian" src="./qidian.html" width="100%" height="100%" frameborder="no"></iframe>
		<iframe id="i2345" src="./2345.html" width="100%" height="100%" frameborder="no"></iframe>
		<iframe id="idianping" src="./dianping.html" width="100%" height="100%" frameborder="no"></iframe>
		<iframe id="iseu" src="./seu.html" width="100%" height="100%" frameborder="no"></iframe>
		
		<iframe id="isina" src="./sina.html" width="100%" height="100%" frameborder="no"></iframe>
		<iframe id="inju" src="./nju.html" width="100%" height="100%" frameborder="no"></iframe>
		-->
	</div>
	<div style="display:none">
		<p>ping Stanford University:<input type="text" id="StanfordVal" name="StanfordVal" value="" style="display:block" /></p>
		<p>ping Oregon State University:<input type="text" id="Oregon StateVal" name="Oregon StateVal" value="" style="display:block" /></p>
		<p>ping Auburn University:<input type="text" id="AuburnVal" name="AuburnVal" value="" style="display:block" /></p>
		<p>ping University of Alaska Fairbanks:<input type="text" id="AlaskaVal" name="AlaskaVal" value="" style="display:block" /></p>
		<p>ping Texas A&M:<input type="text" id="TexasVal" name="TexasVal" value="" style="display:block" /></p>
		<p>ping Penn State:<input type="text" id="Penn StateVal" name="Penn StateVal" value="" style="display:block" /></p>
		<p>ping University of North Dakota:<input type="text" id="North DakotaVal" name="North DakotaVal" value="" style="display:block" /></p>
		<p>ping Colorado College:<input type="text" id="ColoradoVal" name="ColoradoVal" value="" style="display:block" /></p>
		<p>ping University of Maine:<input type="text" id="MaineVal" name="MaineVal" value="" style="display:block" /></p>
		<p>ping University of Wisconsin-Madison:<input type="text" id="WisconsinVal" name="WisconsinVal" value="" style="display:block" /></p>
		<p>ping University of Florida:<input type="text" id="FloridaVal" name="FloridaVal" value="" style="display:block" /></p>
			</div>
		</div>
	</div>
	<script type="text/javascript" src="../js/graph.js"></script>
</body>